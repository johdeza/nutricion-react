{"version":3,"sources":["views/Sharedcomponents/Mynavbar.js","views/Sharedcomponents/Myfooter.js","views/pages/login/Login.js"],"names":["Mynavbar","React","useState","collapseOnSelect","expand","bg","variant","Brand","href","Toggle","aria-controls","Collapse","id","className","Link","Myfooter","Login","history","useHistory","email","password","userInfo","setUserInfo","userEmail","setUserEmail","handleInputChange","event","target","name","value","enviarDatos","a","preventDefault","axios","post","push","alert","localStorage","setItem","response","data","enviarEmail","put","modal","setModal","toggle","onSubmit","type","placeholder","onChange","onClick","show","onClose","closeButton","color"],"mappings":"yKA0BeA,IAvBE,WAAO,IAAD,EACOC,IAAMC,UAAS,GADtB,6BAMrB,OACE,6BACE,kBAAC,IAAD,CAAQC,kBAAgB,EAACC,OAAO,KAAKC,GAAG,OAAOC,QAAQ,QACrD,kBAAC,IAAOC,MAAR,CAAcC,KAAK,KAAnB,gBACA,kBAAC,IAAOC,OAAR,CAAeC,gBAAc,0BAC7B,kBAAC,IAAOC,SAAR,CAAiBC,GAAG,yBAClB,kBAAC,IAAD,CAAKC,UAAU,WACb,kBAAC,IAAIC,KAAL,CAAUN,KAAK,KAAf,UACA,kBAAC,IAAIM,KAAL,CAAUN,KAAK,UAAf,SACA,kBAAC,IAAIM,KAAL,CAAUN,KAAK,aAAf,sB,iCClBZ,oBAUeO,IARE,WACf,OACE,4BAAQF,UAAU,6DAChB,wBAAIA,UAAU,cAAd,4B,uKC2JSG,UAnJD,WACZ,IAAIC,EAAUC,cADI,EAEchB,mBAAS,CAAEiB,MAAO,GAAIC,SAAU,KAF9C,mBAEXC,EAFW,KAEDC,EAFC,OAGgBpB,mBAAS,CAAEiB,MAAO,KAHlC,mBAGXI,EAHW,KAGAC,EAHA,KAKZC,EAAoB,SAACC,GACzBJ,EAAY,2BACPD,GADM,kBAERK,EAAMC,OAAOC,KAAOF,EAAMC,OAAOE,UAWhCC,EAAW,uCAAG,WAAOJ,GAAP,SAAAK,EAAA,6DAClBL,EAAMM,iBADY,kBAGKC,IAAMC,KACzB,sCACAb,GALc,cAOhBJ,EAAQkB,KAAK,cACbC,MAAM,yCACNC,aAAaC,QAAQ,QAASZ,EAAK,OACnCW,aAAaC,QAAQ,KAAMZ,EAAK,KAAL,IAC3BW,aAAaC,QAAQ,QAASZ,EAAK,KAAL,OAXd,kDAahBU,MAAM,KAAMG,SAASC,MAbL,0DAAH,sDAiBXC,EAAW,uCAAG,WAAOf,GAAP,SAAAK,EAAA,6DAClBL,EAAMM,iBADY,kBAGKC,IAAMS,IACzB,6DACAnB,GALc,cAOhBN,EAAQkB,KAAK,KACbC,MAAM,sBARU,gDAUhBA,MAAM,KAAMG,SAASC,MAVL,yDAAH,sDApCC,EAkDQtC,oBAAS,GAlDjB,mBAkDXyC,EAlDW,KAkDJC,EAlDI,KAoDZC,EAAS,WACbD,GAAUD,IAGZ,OACE,6BACE,kBAAC,IAAD,MAEA,6BACA,yBAAK9B,UAAU,aACb,yBAAKA,UAAU,aACb,uBAAGA,UAAU,8BAAb,qBACA,wBAAIA,UAAU,SACd,0BAAMiC,SAAUhB,GACd,uBAAGjB,UAAU,yBAAb,0BACA,yBAAKA,UAAU,mBACb,yBAAKA,UAAU,iBACb,2BACEkC,KAAK,QACLlC,UAAU,eACVmC,YAAY,wBACZpB,KAAK,QACLqB,SAAUxB,KAGd,yBAAKZ,UAAU,iBACb,2BACEkC,KAAK,WACLlC,UAAU,eACVmC,YAAY,iBACZpB,KAAK,WACLqB,SAAUxB,MAIhB,yBAAKZ,UAAU,UACb,uBAAGA,UAAU,wBAAwBL,KAAK,KAA1C,YAGA,4BAAQK,UAAU,iCAAiCkC,KAAK,UAAxD,sBAIF,wBAAIlC,UAAU,SACd,yBAAKA,UAAU,mBACb,yBAAKA,UAAU,iBACb,kBAAC,IAAD,CAASA,UAAU,OAAOqC,QAASL,GAAnC,kCAC4B,MAG9B,yBAAKhC,UAAU,iBACb,uBAAGL,KAAK,YAAYK,UAAU,aAA9B,+BAQN,kBAAC,KAAD,CAAQsC,KAAMR,EAAOS,QAASP,GAC5B,kBAAC,KAAD,CAAcQ,aAAW,GAAzB,oCACA,kBAAC,KAAD,KACE,0BAAMP,SAAUL,GACd,uBAAG5B,UAAU,yBAAb,qDAGA,yBAAKA,UAAU,mBACb,yBAAKA,UAAU,iBACb,2BACEkC,KAAK,QACLlC,UAAU,eACVmC,YAAY,wBACZpB,KAAK,QACLqB,SAjHW,SAACvB,GAC9BF,EAAa,2BACRD,GADO,kBAETG,EAAMC,OAAOC,KAAOF,EAAMC,OAAOE,gBAoH5B,kBAAC,KAAD,KACE,kBAAC,IAAD,CAASyB,MAAM,UAAUJ,QAAST,GAAlC,UAGA,kBAAC,IAAD,CAASa,MAAM,SAASJ,QAASL,GAAjC,cAOR,kBAAC,IAAD","file":"static/js/29.2c5d1b14.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Navbar, Nav } from \"react-bootstrap\";\r\n\r\nconst Mynavbar = () => {\r\n  const [isOpen, setisOpen] = React.useState(false);\r\n  const toggle = () => {\r\n    setisOpen(!isOpen);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\">\r\n        <Navbar.Brand href=\"/\">Nutrición</Navbar.Brand>\r\n        <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n        <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n          <Nav className=\"ml-auto\">\r\n            <Nav.Link href=\"/\">Inicio</Nav.Link>\r\n            <Nav.Link href=\"#login\">Login</Nav.Link>\r\n            <Nav.Link href=\"#register\">Nueva cuenta</Nav.Link>\r\n          </Nav>\r\n        </Navbar.Collapse>\r\n      </Navbar>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Mynavbar;\r\n","import React from \"react\";\r\n\r\nconst Myfooter = () => {\r\n  return (\r\n    <footer className=\"d-flex justify-content-center align-items-center bg-dark \">\r\n      <h6 className=\"text-white\">&reg;Nutrición 2020</h6>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Myfooter;\r\n","import React, { useState } from \"react\";\r\nimport Mynavbar from \"../../Sharedcomponents/Mynavbar.js\";\r\nimport Myfooter from \"../../Sharedcomponents/Myfooter.js\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  CButton,\r\n  CModal,\r\n  CModalHeader,\r\n  CModalBody,\r\n  CModalFooter,\r\n} from \"@coreui/react\";\r\n\r\nconst Login = () => {\r\n  let history = useHistory();\r\n  const [userInfo, setUserInfo] = useState({ email: \"\", password: \"\" });\r\n  const [userEmail, setUserEmail] = useState({ email: \"\" });\r\n\r\n  const handleInputChange = (event) => {\r\n    setUserInfo({\r\n      ...userInfo,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  const handleInputChangeModal = (event) => {\r\n    setUserEmail({\r\n      ...userEmail,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  const enviarDatos = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      const respon = await axios.post(\r\n        \"http://3.90.64.114/api/v1/web/login\",\r\n        userInfo\r\n      );\r\n      history.push(\"/dashboard\");\r\n      alert(\"Bienvenido al sistema de nutrición\");\r\n      localStorage.setItem(\"token\", event[\"token\"]);\r\n      localStorage.setItem(\"id\", event[\"user\"][\"id\"]);\r\n      localStorage.setItem(\"email\", event[\"user\"][\"email\"]);\r\n    } catch (error) {\r\n      alert(error.response.data);\r\n    }\r\n  };\r\n\r\n  const enviarEmail = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      const respon = await axios.put(\r\n        \"http://3.90.64.114/api/v1/web/user/account/restorePassword\",\r\n        userEmail\r\n      );\r\n      history.push(\"/\");\r\n      alert(\"!Revisa tu correo!\");\r\n    } catch (error) {\r\n      alert(error.response.data);\r\n    }\r\n  };\r\n\r\n  const [modal, setModal] = useState(false);\r\n\r\n  const toggle = () => {\r\n    setModal(!modal);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Mynavbar></Mynavbar>\r\n\r\n      <br />\r\n      <div className=\"container\">\r\n        <div className=\"jumbotron\">\r\n          <p className=\"display-4 text-center lead\">Iniciar sesión</p>\r\n          <hr className=\"my-4\" />\r\n          <form onSubmit={enviarDatos}>\r\n            <p className=\"display-8 text-center\">Credenciales de acceso</p>\r\n            <div className=\"form-group row \">\r\n              <div className=\"col-sm-6 mb-1\">\r\n                <input\r\n                  type=\"email\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"Correo electrónico\"\r\n                  name=\"email\"\r\n                  onChange={handleInputChange}\r\n                />\r\n              </div>\r\n              <div className=\"col-sm-6 mb-1\">\r\n                <input\r\n                  type=\"password\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"Contraseña!\"\r\n                  name=\"password\"\r\n                  onChange={handleInputChange}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"d-flex\">\r\n              <a className=\"btn btn-danger btn-lg\" href=\"#\">\r\n                Cancelar\r\n              </a>\r\n              <button className=\"btn btn-primary btn-lg ml-auto\" type=\"submit\">\r\n                Iniciar sesión\r\n              </button>\r\n            </div>\r\n            <hr className=\"my-4\" />\r\n            <div className=\"form-group row \">\r\n              <div className=\"col-sm-6 mb-1\">\r\n                <CButton className=\"mr-1\" onClick={toggle}>\r\n                  ¿Olvidaste tu contraseña?{\" \"}\r\n                </CButton>\r\n              </div>\r\n              <div className=\"col-sm-6 mb-1\">\r\n                <a href=\"#register\" className=\"text-info\">\r\n                  ¿No tiene una cuenta?\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </form>\r\n\r\n          {/* Parte del modal  */}\r\n          <CModal show={modal} onClose={toggle}>\r\n            <CModalHeader closeButton>Recuperación de contraseña</CModalHeader>\r\n            <CModalBody>\r\n              <form onSubmit={enviarEmail}>\r\n                <p className=\"display-8 text-center\">\r\n                  Ingresa tu correo para recuperar tu contraseña\r\n                </p>\r\n                <div className=\"form-group row \">\r\n                  <div className=\"col-sm-6 mb-1\">\r\n                    <input\r\n                      type=\"email\"\r\n                      className=\"form-control\"\r\n                      placeholder=\"Correo electrónico\"\r\n                      name=\"email\"\r\n                      onChange={handleInputChangeModal}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </form>\r\n            </CModalBody>\r\n            <CModalFooter>\r\n              <CButton color=\"primary\" onClick={enviarEmail}>\r\n                Enviar\r\n              </CButton>\r\n              <CButton color=\"danger\" onClick={toggle}>\r\n                Cancel\r\n              </CButton>\r\n            </CModalFooter>\r\n          </CModal>\r\n        </div>\r\n      </div>\r\n      <Myfooter></Myfooter>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"sourceRoot":""}